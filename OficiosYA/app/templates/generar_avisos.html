{% extends "base.html" %}
{% block content %}
<div class="container" style="max-width:760px;margin:2rem auto;">
 <h1>Generar aviso con IA (local)</h1>

 <form method="post">
  {% csrf_token %}
  <label for="descripcion">Descripción breve:</label>
  <textarea id="descripcion" name="descripcion" rows="8" style="width:100%;"
   placeholder="Ej: Busco maestro pintor para interiores, depto 60 m² en Viña, pago por jornada.">{{ descripcion }}</textarea>
  <br><br>
  <button type="submit">Generar aviso</button>
 </form>

 {% if error %}
 <p style="color:#b00020;">{{ error }}</p>
 {% endif %}

 {% if aviso %}
 <h2>Resultado</h2>
 <pre style="white-space:pre-wrap;background:#f6f8fa;padding:1rem;border-radius:8px;">{{ aviso }}</pre>
 <button type="button" onclick="navigator.clipboard.writeText(`{{ aviso|escapejs }}`); alert('Aviso copiado');">
  Copiar aviso
 </button>
 {% endif %}
</div>
{% endblock %}